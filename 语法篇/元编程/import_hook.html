
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>import_hook · python攻略</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="hsz">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="动态编译.html" />
    
    
    <link rel="prev" href="元类编程.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"hsz1273327/TutorialForPython","types":["star","watch","fork"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="http://blog.hszofficial.site/" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../工具链篇/">
            
                <a href="../../工具链篇/">
            
                    
                    工具链篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../工具链篇/运行环境.html">
            
                <a href="../../工具链篇/运行环境.html">
            
                    
                    运行环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../工具链篇/包的安装管理与分发.html">
            
                <a href="../../工具链篇/包的安装管理与分发.html">
            
                    
                    包的安装管理与分发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../工具链篇/交互环境jupyter/">
            
                <a href="../../工具链篇/交互环境jupyter/">
            
                    
                    交互环境jupyter
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../工具链篇/交互环境jupyter/基于web的可交互运行环境jupyter.html">
            
                <a href="../../工具链篇/交互环境jupyter/基于web的可交互运行环境jupyter.html">
            
                    
                    基于web的可交互运行环境jupyter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../工具链篇/交互环境jupyter/ipython与魔法命令/ipython与魔法命令.html">
            
                <a href="../../工具链篇/交互环境jupyter/ipython与魔法命令/ipython与魔法命令.html">
            
                    
                    ipython与魔法命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../../工具链篇/交互环境jupyter/在Ipython_Notebook中的代码调试与优化.html">
            
                <a href="../../工具链篇/交互环境jupyter/在Ipython_Notebook中的代码调试与优化.html">
            
                    
                    在Ipython_Notebook中的代码调试与优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../../工具链篇/交互环境jupyter/多进程并行计算.html">
            
                <a href="../../工具链篇/交互环境jupyter/多进程并行计算.html">
            
                    
                    多进程并行计算
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../../工具链篇/交互环境jupyter/公开的jupyter_notebook服务.html">
            
                <a href="../../工具链篇/交互环境jupyter/公开的jupyter_notebook服务.html">
            
                    
                    公开的jupyter_notebook服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="../../工具链篇/交互环境jupyter/notebook格式转换工具.html">
            
                <a href="../../工具链篇/交互环境jupyter/notebook格式转换工具.html">
            
                    
                    notebook格式转换工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.7" data-path="../../工具链篇/交互环境jupyter/结语.html">
            
                <a href="../../工具链篇/交互环境jupyter/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../工具链篇/代码风格.html">
            
                <a href="../../工具链篇/代码风格.html">
            
                    
                    代码风格
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../工具链篇/docstring工具.html">
            
                <a href="../../工具链篇/docstring工具.html">
            
                    
                    docstring工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../工具链篇/静态类型检测.html">
            
                <a href="../../工具链篇/静态类型检测.html">
            
                    
                    静态类型检测
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../工具链篇/日志工具.html">
            
                <a href="../../工具链篇/日志工具.html">
            
                    
                    日志工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../../工具链篇/调试工具.html">
            
                <a href="../../工具链篇/调试工具.html">
            
                    
                    调试工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../../工具链篇/调用追踪与异常栈追踪.html">
            
                <a href="../../工具链篇/调用追踪与异常栈追踪.html">
            
                    
                    调用追踪与异常栈追踪
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="../../工具链篇/代码测试.html">
            
                <a href="../../工具链篇/代码测试.html">
            
                    
                    代码测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="../../工具链篇/部署服务.html">
            
                <a href="../../工具链篇/部署服务.html">
            
                    
                    部署服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="../../工具链篇/性能调优工具.html">
            
                <a href="../../工具链篇/性能调优工具.html">
            
                    
                    性能调优工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="../../工具链篇/结语.html">
            
                <a href="../../工具链篇/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../">
            
                <a href="../">
            
                    
                    语法篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Python的数据模型/">
            
                <a href="../Python的数据模型/">
            
                    
                    Python的数据模型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../Python的数据模型/数据模型.html">
            
                <a href="../Python的数据模型/数据模型.html">
            
                    
                    数据模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../Python的数据模型/变量引用与垃圾回收.html">
            
                <a href="../Python的数据模型/变量引用与垃圾回收.html">
            
                    
                    变量引用与垃圾回收
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../Python的数据模型/结语.html">
            
                <a href="../Python的数据模型/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../模块/">
            
                <a href="../模块/">
            
                    
                    模块
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../模块/导入时与运行时.html">
            
                <a href="../模块/导入时与运行时.html">
            
                    
                    导入时与运行时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../模块/模块的预设字段.html">
            
                <a href="../模块/模块的预设字段.html">
            
                    
                    模块的预设字段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../模块/模块的加载流程.html">
            
                <a href="../模块/模块的加载流程.html">
            
                    
                    模块的加载流程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../模块/模块加载特殊内容.html">
            
                <a href="../模块/模块加载特殊内容.html">
            
                    
                    模块加载特殊内容
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5" data-path="../模块/结语.html">
            
                <a href="../模块/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../文本与字节序/">
            
                <a href="../文本与字节序/">
            
                    
                    文本与字节序
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../文本与字节序/文本和编码.html">
            
                <a href="../文本与字节序/文本和编码.html">
            
                    
                    文本和编码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../文本与字节序/字节序列与内存视图.html">
            
                <a href="../文本与字节序/字节序列与内存视图.html">
            
                    
                    字节序列与内存视图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../文本与字节序/正则表达式.html">
            
                <a href="../文本与字节序/正则表达式.html">
            
                    
                    正则表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="../文本与字节序/文件与IO流.html">
            
                <a href="../文本与字节序/文件与IO流.html">
            
                    
                    文件与IO流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.5" data-path="../文本与字节序/序列化.html">
            
                <a href="../文本与字节序/序列化.html">
            
                    
                    序列化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.6" data-path="../文本与字节序/结语.html">
            
                <a href="../文本与字节序/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../流程控制/">
            
                <a href="../流程控制/">
            
                    
                    流程控制
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../流程控制/单线程同步流程控制.html">
            
                <a href="../流程控制/单线程同步流程控制.html">
            
                    
                    单线程同步流程控制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../流程控制/阻塞异步与协程.html">
            
                <a href="../流程控制/阻塞异步与协程.html">
            
                    
                    阻塞异步与协程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../流程控制/多线程与GIL.html">
            
                <a href="../流程控制/多线程与GIL.html">
            
                    
                    多线程与GIL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="../流程控制/多进程.html">
            
                <a href="../流程控制/多进程.html">
            
                    
                    多进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.5" data-path="../流程控制/并行编程的惯用法.html">
            
                <a href="../流程控制/并行编程的惯用法.html">
            
                    
                    并行编程的惯用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.6" data-path="../流程控制/结语.html">
            
                <a href="../流程控制/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../异常和警告.html">
            
                <a href="../异常和警告.html">
            
                    
                    异常和警告
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../内置容器/">
            
                <a href="../内置容器/">
            
                    
                    内置容器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="../内置容器/序列对象.html">
            
                <a href="../内置容器/序列对象.html">
            
                    
                    序列对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="../内置容器/映射对象.html">
            
                <a href="../内置容器/映射对象.html">
            
                    
                    映射对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.3" data-path="../内置容器/可迭代对象与生成器.html">
            
                <a href="../内置容器/可迭代对象与生成器.html">
            
                    
                    可迭代对象与生成器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.4" data-path="../内置容器/结语.html">
            
                <a href="../内置容器/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../函数/">
            
                <a href="../函数/">
            
                    
                    函数
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../函数/函数是一等对象.html">
            
                <a href="../函数/函数是一等对象.html">
            
                    
                    函数是一等对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.2" data-path="../函数/变量作用域与闭包.html">
            
                <a href="../函数/变量作用域与闭包.html">
            
                    
                    变量作用域与闭包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.3" data-path="../函数/结语.html">
            
                <a href="../函数/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../面向对象惯用法/">
            
                <a href="../面向对象惯用法/">
            
                    
                    面向对象惯用法
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.8.1" data-path="../面向对象惯用法/python中的对象.html">
            
                <a href="../面向对象惯用法/python中的对象.html">
            
                    
                    python中的对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8.2" data-path="../面向对象惯用法/协议与接口与抽象基类.html">
            
                <a href="../面向对象惯用法/协议与接口与抽象基类.html">
            
                    
                    协议,接口与抽象基类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8.3" data-path="../面向对象惯用法/多重继承和Mixin.html">
            
                <a href="../面向对象惯用法/多重继承和Mixin.html">
            
                    
                    多重继承和Mixin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8.4" data-path="../面向对象惯用法/自定义序列Vector.html">
            
                <a href="../面向对象惯用法/自定义序列Vector.html">
            
                    
                    自定义序列Vector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8.5" data-path="../面向对象惯用法/结语.html">
            
                <a href="../面向对象惯用法/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="./">
            
                <a href="./">
            
                    
                    元编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.9.1" data-path="运算符重载.html">
            
                <a href="运算符重载.html">
            
                    
                    运算符重载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.2" data-path="特性与描述符.html">
            
                <a href="特性与描述符.html">
            
                    
                    特性与描述符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.3" data-path="装饰器.html">
            
                <a href="装饰器.html">
            
                    
                    装饰器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.4" data-path="元类编程.html">
            
                <a href="元类编程.html">
            
                    
                    元类编程
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.9.5" data-path="import_hook.html">
            
                <a href="import_hook.html">
            
                    
                    import_hook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.6" data-path="动态编译.html">
            
                <a href="动态编译.html">
            
                    
                    动态编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.7" data-path="动态属性.html">
            
                <a href="动态属性.html">
            
                    
                    动态属性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.8" data-path="猴子补丁和热更新.md">
            
                <span>
            
                    
                    猴子补丁和热更新
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9.9" data-path="结语.html">
            
                <a href="结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="../结语.html">
            
                <a href="../结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../嵌入与扩展篇/">
            
                <a href="../../嵌入与扩展篇/">
            
                    
                    嵌入与扩展篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../嵌入与扩展篇/使用Cython优化python程序的性能/">
            
                <a href="../../嵌入与扩展篇/使用Cython优化python程序的性能/">
            
                    
                    使用Cython优化python程序的性能
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../../嵌入与扩展篇/使用Cython优化python程序的性能/Cython的简单介绍.html">
            
                <a href="../../嵌入与扩展篇/使用Cython优化python程序的性能/Cython的简单介绍.html">
            
                    
                    Cython的简单介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../../嵌入与扩展篇/使用Cython优化python程序的性能/Cython的基本模式.html">
            
                <a href="../../嵌入与扩展篇/使用Cython优化python程序的性能/Cython的基本模式.html">
            
                    
                    Cython的基本模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../../嵌入与扩展篇/使用Cython优化python程序的性能/静态化python模块.html">
            
                <a href="../../嵌入与扩展篇/使用Cython优化python程序的性能/静态化python模块.html">
            
                    
                    静态化python模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../../嵌入与扩展篇/使用Cython优化python程序的性能/使用cython申明文件申明python源码类型.html">
            
                <a href="../../嵌入与扩展篇/使用Cython优化python程序的性能/使用cython申明文件申明python源码类型.html">
            
                    
                    使用cython申明文件申明python源码类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="../../嵌入与扩展篇/使用Cython优化python程序的性能/Cython的包装模式.html">
            
                <a href="../../嵌入与扩展篇/使用Cython优化python程序的性能/Cython的包装模式.html">
            
                    
                    Cython的包装模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="../../嵌入与扩展篇/使用Cython优化python程序的性能/使用Cython扩展numpy.html">
            
                <a href="../../嵌入与扩展篇/使用Cython优化python程序的性能/使用Cython扩展numpy.html">
            
                    
                    使用Cython扩展numpy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../嵌入与扩展篇/用numba为python写高性能C扩展.html">
            
                <a href="../../嵌入与扩展篇/用numba为python写高性能C扩展.html">
            
                    
                    用numba为python写高性能C扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../嵌入与扩展篇/使用f2py用fortain给python写扩展.html">
            
                <a href="../../嵌入与扩展篇/使用f2py用fortain给python写扩展.html">
            
                    
                    使用f2py用fortain给python写扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../嵌入与扩展篇/结语.md">
            
                <span>
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../基础应用篇/">
            
                <a href="../../基础应用篇/">
            
                    
                    基础应用篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../基础应用篇/国际化/">
            
                <a href="../../基础应用篇/国际化/">
            
                    
                    国际化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../../基础应用篇/国际化/字符编码判断.html">
            
                <a href="../../基础应用篇/国际化/字符编码判断.html">
            
                    
                    字符编码判断
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../../基础应用篇/国际化/国际化文本翻译.html">
            
                <a href="../../基础应用篇/国际化/国际化文本翻译.html">
            
                    
                    国际化文本翻译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="../../基础应用篇/国际化/时间日期处理.html">
            
                <a href="../../基础应用篇/国际化/时间日期处理.html">
            
                    
                    时间日期处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="../../基础应用篇/国际化/货币处理模块.html">
            
                <a href="../../基础应用篇/国际化/货币处理模块.html">
            
                    
                    货币处理模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.5" data-path="../../基础应用篇/国际化/结语.html">
            
                <a href="../../基础应用篇/国际化/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../基础应用篇/数据压缩与归档/">
            
                <a href="../../基础应用篇/数据压缩与归档/">
            
                    
                    数据压缩与归档
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../../基础应用篇/数据压缩与归档/数据压缩解压.html">
            
                <a href="../../基础应用篇/数据压缩与归档/数据压缩解压.html">
            
                    
                    数据压缩解压
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../../基础应用篇/数据压缩与归档/压缩归档.html">
            
                <a href="../../基础应用篇/数据压缩与归档/压缩归档.html">
            
                    
                    压缩归档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="../../基础应用篇/数据压缩与归档/结语.html">
            
                <a href="../../基础应用篇/数据压缩与归档/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../基础应用篇/信息安全/">
            
                <a href="../../基础应用篇/信息安全/">
            
                    
                    信息安全
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../基础应用篇/信息安全/摘要算法.html">
            
                <a href="../../基础应用篇/信息安全/摘要算法.html">
            
                    
                    摘要算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../基础应用篇/信息安全/数字签名.html">
            
                <a href="../../基础应用篇/信息安全/数字签名.html">
            
                    
                    数字签名
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../../基础应用篇/信息安全/加密算法.html">
            
                <a href="../../基础应用篇/信息安全/加密算法.html">
            
                    
                    加密算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.4" data-path="../../基础应用篇/信息安全/结语.html">
            
                <a href="../../基础应用篇/信息安全/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../人机交互篇/">
            
                <a href="../../人机交互篇/">
            
                    
                    人机交互篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../人机交互篇/使用python编写命令行工具.html">
            
                <a href="../../人机交互篇/使用python编写命令行工具.html">
            
                    
                    使用python编写命令行工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../人机交互篇/自定义交互式界面.html">
            
                <a href="../../人机交互篇/自定义交互式界面.html">
            
                    
                    自定义交互式界面
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../人机交互篇/GUI/">
            
                <a href="../../人机交互篇/GUI/">
            
                    
                    GUI
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.3.1" data-path="../../人机交互篇/GUI/TK框架GUI编程的基本思路.html">
            
                <a href="../../人机交互篇/GUI/TK框架GUI编程的基本思路.html">
            
                    
                    TK框架GUI编程的基本思路
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3.2" data-path="../../人机交互篇/GUI/Tkinter的组件介绍.html">
            
                <a href="../../人机交互篇/GUI/Tkinter的组件介绍.html">
            
                    
                    Tkinter的组件介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3.3" data-path="../../人机交互篇/GUI/结合pandas和matplotlib制作数据科学GUI工具/结合pandas和matplotlib制作数据科学GUI工具.html">
            
                <a href="../../人机交互篇/GUI/结合pandas和matplotlib制作数据科学GUI工具/结合pandas和matplotlib制作数据科学GUI工具.html">
            
                    
                    结合pandas和matplotlib制作数据科学GUI工具
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../人机交互篇/使用matplotlib做数据可视化/">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/">
            
                    
                    使用matplotlib做数据可视化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.4.1" data-path="../../人机交互篇/使用matplotlib做数据可视化/matplotlib的基本设置/matplotlib的基本设置.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/matplotlib的基本设置/matplotlib的基本设置.html">
            
                    
                    matplotlib的基本设置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.2" data-path="../../人机交互篇/使用matplotlib做数据可视化/绘图工具pyplot/绘图工具pyplot.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/绘图工具pyplot/绘图工具pyplot.html">
            
                    
                    绘图工具pyplot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.3" data-path="../../人机交互篇/使用matplotlib做数据可视化/非结构网络/非结构网络.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/非结构网络/非结构网络.html">
            
                    
                    非结构网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.4" data-path="../../人机交互篇/使用matplotlib做数据可视化/桑基图/桑基图.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/桑基图/桑基图.html">
            
                    
                    桑基图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.5" data-path="../../人机交互篇/使用matplotlib做数据可视化/图片加载/图片加载.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/图片加载/图片加载.html">
            
                    
                    图片加载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.6" data-path="../../人机交互篇/使用matplotlib做数据可视化/保存图片/保存图片.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/保存图片/保存图片.html">
            
                    
                    保存图片
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.7" data-path="../../人机交互篇/使用matplotlib做数据可视化/控件.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/控件.html">
            
                    
                    控件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.8" data-path="../../人机交互篇/使用matplotlib做数据可视化/动画/动画.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/动画/动画.html">
            
                    
                    动画
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.9" data-path="../../人机交互篇/使用matplotlib做数据可视化/matplitlib结合web技术.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/matplitlib结合web技术.html">
            
                    
                    matplitlib结合web技术
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4.10" data-path="../../人机交互篇/使用matplotlib做数据可视化/结语.html">
            
                <a href="../../人机交互篇/使用matplotlib做数据可视化/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../../人机交互篇/结语.html">
            
                <a href="../../人机交互篇/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../数学与统计应用篇/">
            
                <a href="../../数学与统计应用篇/">
            
                    
                    数学与统计应用篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../数学与统计应用篇/使用标准库处理基本数学问题/使用标准库处理基本数学问题.html">
            
                <a href="../../数学与统计应用篇/使用标准库处理基本数学问题/使用标准库处理基本数学问题.html">
            
                    
                    使用标准库处理基本数学问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../../数学与统计应用篇/numpy的高性能同构定长多维数组ndarray/numpy的高性能同构定长多维数组ndarray.html">
            
                <a href="../../数学与统计应用篇/numpy的高性能同构定长多维数组ndarray/numpy的高性能同构定长多维数组ndarray.html">
            
                    
                    numpy的高性能同构定长多维数组ndarray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../../数学与统计应用篇/使用numpy做科学计算/使用numpy做科学计算.html">
            
                <a href="../../数学与统计应用篇/使用numpy做科学计算/使用numpy做科学计算.html">
            
                    
                    使用numpy做科学计算
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../../数学与统计应用篇/结语.html">
            
                <a href="../../数学与统计应用篇/结语.html">
            
                    
                    结语
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../接口服务篇/">
            
                <a href="../../接口服务篇/">
            
                    
                    接口服务篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../接口服务篇/GRpc接口服务.html">
            
                <a href="../../接口服务篇/GRpc接口服务.html">
            
                    
                    GRpc接口服务
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../术语表.html">
            
                <a href="../../术语表.html">
            
                    
                    术语表
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >import_hook</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon fa fa-hand-o-right"></span><a href="#importhook"><b>1. </b>import_hook</a></li><ul><li><span class="title-icon fa fa-hand-o-right"></span><a href="#import-hook&#x7684;&#x57FA;&#x672C;&#x5F62;&#x5F0F;"><b>1.1. </b>import hook&#x7684;&#x57FA;&#x672C;&#x5F62;&#x5F0F;</a></li><li><span class="title-icon fa fa-hand-o-right"></span><a href="#import&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6A21;&#x5757;&#x65F6;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x901A;&#x77E5;&#x6211;&#x4EEC;"><b>1.2. </b>import&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6A21;&#x5757;&#x65F6;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x901A;&#x77E5;&#x6211;&#x4EEC;</a></li><li><span class="title-icon fa fa-hand-o-right"></span><a href="#import&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x5757;"><b>1.3. </b>import&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x5757;</a></li><ul><li><span class="title-icon fa fa-hand-o-right"></span><a href="#&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;"><b>1.3.1. </b>&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;</a></li><li><span class="title-icon fa fa-hand-o-right"></span><a href="#&#x4F7F;&#x7528;-import-hook&#x5B9E;&#x73B0;&#x9690;&#x5F0F;&#x8C03;&#x7528;&#x8FDC;&#x7AEF;&#x6A21;&#x5757;"><b>1.3.2. </b>&#x4F7F;&#x7528; import hook&#x5B9E;&#x73B0;&#x9690;&#x5F0F;&#x8C03;&#x7528;&#x8FDC;&#x7AEF;&#x6A21;&#x5757;</a></li></ul><li><span class="title-icon fa fa-hand-o-right"></span><a href="#&#x76F4;&#x63A5;import&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x5757;&#x6765;&#x4F7F;&#x7528;"><b>1.4. </b>&#x76F4;&#x63A5;import&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x5757;&#x6765;&#x4F7F;&#x7528;</a></li><ul><li><span class="title-icon fa fa-hand-o-right"></span><a href="#&#x5BFC;&#x5165;fortran&#x4EE3;&#x7801;&#x4F5C;&#x4E3A;&#x6A21;&#x5757;"><b>1.4.1. </b>&#x5BFC;&#x5165;Fortran&#x4EE3;&#x7801;&#x4F5C;&#x4E3A;&#x6A21;&#x5757;</a></li></ul><li><span class="title-icon fa fa-hand-o-right"></span><a href="#&#x4F7F;&#x7528;&#x8B66;&#x544A;"><b>1.5. </b>&#x4F7F;&#x7528;&#x8B66;&#x544A;</a></li></ul></ul></div><a href="#importhook" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="importhook"><a name="importhook" class="anchor-navigation-ex-anchor" href="#importhook"><i class="fa fa-link" aria-hidden="true"></i></a>1. import_hook</h1>
<p>&#x6240;&#x8C13;<code>import hook</code>&#x5C31;&#x662F;&#x6307;&#x76F4;&#x63A5;&#x81EA;&#x5B9A;&#x4E49;finder&#x548C;loader,&#x5E76;&#x5C06;finder&#x653E;&#x5165;&#x5BFC;&#x5165;&#x8FC7;&#x7A0B;,&#x4EE5;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x884C;&#x4E3A;&#x7684;&#x6280;&#x5DE7;.</p>
<p>&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x5F88;&#x591A;&#x975E;&#x5E38;&#x795E;&#x5947;&#x7684;&#x4E8B;&#x60C5;,&#x6BD4;&#x5982;</p>
<ul>
<li>import&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6A21;&#x5757;&#x65F6;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x901A;&#x77E5;&#x6211;&#x4EEC;</li>
<li>import&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x5757;</li>
<li>&#x76F4;&#x63A5;import&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x5757;&#x6765;&#x4F7F;&#x7528;</li>
</ul>
<p>&#x672C;&#x8282;&#x9700;&#x8981;&#x7684;&#x5148;&#x9A8C;&#x77E5;&#x8BC6;&#x5305;&#x62EC;:</p>
<ul>
<li><a href="../&#x6A21;&#x5757;/&#x6A21;&#x5757;&#x7684;&#x52A0;&#x8F7D;&#x6D41;&#x7A0B;.html">&#x6A21;&#x5757;&#x7684;&#x5BFC;&#x5165;&#x65B9;&#x5F0F;</a></li>
<li><a href="&#x52A8;&#x6001;&#x7F16;&#x8BD1;.html">&#x52A8;&#x6001;&#x7F16;&#x8BD1;</a></li>
<li><a href="../../&#x5D4C;&#x5165;&#x4E0E;&#x6269;&#x5C55;&#x7BC7;/&#x4F7F;&#x7528;f2py&#x7528;fortain&#x7ED9;python&#x5199;&#x6269;&#x5C55;.html">&#x4F7F;&#x7528;f2py&#x4E3A;python&#x5D4C;&#x5165;fortran&#x4EE3;&#x7801;</a></li>
</ul>
<h2 id="import-hook&#x7684;&#x57FA;&#x672C;&#x5F62;&#x5F0F;"><a name="import-hook&#x7684;&#x57FA;&#x672C;&#x5F62;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#import-hook&#x7684;&#x57FA;&#x672C;&#x5F62;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. import hook&#x7684;&#x57FA;&#x672C;&#x5F62;&#x5F0F;</h2>
<p>import hook&#x901A;&#x5E38;&#x662F;&#x4EE5;&#x4E00;&#x4E2A;&#x5355;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x7684;&#x5F62;&#x5F0F;&#x51FA;&#x73B0;&#x7684;,&#x5176;&#x4E2D;&#x7684;&#x8FC7;&#x7A0B;&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F;&#x81EA;&#x5B9A;&#x4E49;finder&#x548C;loader,&#x56E0;&#x6B64;&#x81EA;&#x5B9A;&#x4E49;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x90FD;&#x662F;&#x5FC5;&#x987B;&#x7684;,&#x7136;&#x540E;&#x5C31;&#x662F;&#x5C06;&#x5B9A;&#x4E49;&#x7684;finder&#x5B9E;&#x4F8B;&#x5316;,&#x5E76;&#x5C06;&#x8FD9;&#x4E2A;&#x5B9E;&#x4F8B;&#x52A0;&#x5165;<code>sys.meta_path</code>.&#x4E0B;&#x9762;&#x662F;&#x6A21;&#x677F;&#x4EE3;&#x7801;.</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> importlib
<span class="hljs-keyword">from</span> importlib.abc <span class="hljs-keyword">import</span> (
    MetaPathFinder, 
    PathEntryFinder,
    Loader
)
<span class="hljs-keyword">from</span> importlib.machinery <span class="hljs-keyword">import</span> ModuleSpec
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClientImportLoader</span><span class="hljs-params">(Loader)</span>:</span>
<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_module</span><span class="hljs-params">(clz,spec)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x6A21;&#x5757;&#x7684;.&quot;&quot;&quot;</span>
        module = __create_module_from_spec(spec)
        <span class="hljs-keyword">return</span> module <span class="hljs-keyword">or</span> <span class="hljs-keyword">None</span>

<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">exec_module</span> <span class="hljs-params">(clz, module)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x5F15;&#x5165;&#x6A21;&#x5757;&#x6216;&#x8005;&#x91CD;&#x8F7D;&#x6A21;&#x5757;&#x65F6;&#x4F1A;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&quot;&quot;&quot;</span>
        <span class="hljs-keyword">pass</span>

loader= ClientImportLoader()


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClientImportFinder</span><span class="hljs-params">(MetaPathFinder)</span>:</span>

<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_spec</span> <span class="hljs-params">(klass, full_name, paths=None, target=None)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x67E5;&#x627E;&#x6A21;&#x5757;&#x7684;&#x903B;&#x8F91;&quot;&quot;&quot;</span>
        <span class="hljs-keyword">pass</span>
        <span class="hljs-keyword">return</span> ModuleSpec(full_name, loader, origin=module_full_path)


sys.meta_path.insert(<span class="hljs-number">0</span>, ClientImportFinder())
</code></pre>
<p>&#x5F53;&#x8FD9;&#x4E2A;&#x5B9A;&#x4E49;import hook&#x7684;&#x6A21;&#x5757;&#x88AB;&#x52A0;&#x8F7D;&#x540E;,&#x4ED6;&#x5C31;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x7684;&#x6267;&#x884C;&#x81EA;&#x5DF1;&#x7684;&#x529F;&#x80FD;&#x4E86;,&#x56E0;&#x6B64;&#x901A;&#x5E38;&#x8FD9;&#x4E2A;import hook&#x7684;&#x6A21;&#x5757;&#x9700;&#x8981;&#x4F18;&#x5148;&#x52A0;&#x8F7D;.</p>
<h2 id="import&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6A21;&#x5757;&#x65F6;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x901A;&#x77E5;&#x6211;&#x4EEC;"><a name="import&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6A21;&#x5757;&#x65F6;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x901A;&#x77E5;&#x6211;&#x4EEC;" class="anchor-navigation-ex-anchor" href="#import&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6A21;&#x5757;&#x65F6;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x901A;&#x77E5;&#x6211;&#x4EEC;"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. import&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x6A21;&#x5757;&#x65F6;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6765;&#x901A;&#x77E5;&#x6211;&#x4EEC;</h2>
<p>&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x6765;&#x81EA;python cookbook,&#x4E0D;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x6BD4;&#x8F83;&#x8FC7;&#x65F6;&#x4E86;,&#x8FD9;&#x8FB9;&#x7ED9;&#x51FA;python3.5+&#x63A8;&#x8350;&#x7684;&#x5199;&#x6CD5;</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> importlib
<span class="hljs-keyword">from</span> importlib.abc <span class="hljs-keyword">import</span> (
    MetaPathFinder, 
    PathEntryFinder,
    Loader
)
<span class="hljs-keyword">from</span> importlib.machinery <span class="hljs-keyword">import</span> ModuleSpec
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict

_post_import_hooks = defaultdict(list)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClientImportLoader</span><span class="hljs-params">(Loader)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, finder)</span>:</span>
        self._finder = finder


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_module</span><span class="hljs-params">(self,spec)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x8FD9;&#x8FB9;&#x53EA;&#x8981;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#x5373;&#x53EF;.&quot;&quot;&quot;</span>
        <span class="hljs-keyword">return</span> super().create_module(spec)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">exec_module</span> <span class="hljs-params">(self, module)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x5728;_post_import_hooks&#x4E2D;&#x67E5;&#x627E;&#x5BF9;&#x5E94;&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5E76;&#x6267;&#x884C;.&quot;&quot;&quot;</span>
        <span class="hljs-keyword">for</span> func <span class="hljs-keyword">in</span> _post_import_hooks[module.__name__]:
            func(module)
        self._finder._skip.remove(module.__name__)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClientImportFinder</span><span class="hljs-params">(MetaPathFinder)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        self._skip = set()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_spec</span><span class="hljs-params">(self, full_name, paths=None, target=None)</span>:</span>
        <span class="hljs-keyword">if</span> full_name <span class="hljs-keyword">in</span> self._skip:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">None</span>
        self._skip.add(full_name)
        loader = ClientImportLoader(self)
        <span class="hljs-keyword">return</span> ModuleSpec(full_name, loader, origin=paths)


<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">when_imported</span><span class="hljs-params">(fullname)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">decorate</span><span class="hljs-params">(func)</span>:</span>
        <span class="hljs-keyword">if</span> fullname <span class="hljs-keyword">in</span> sys.modules:
            func(sys.modules[fullname])
        <span class="hljs-keyword">else</span>:
            _post_import_hooks[fullname].append(func)
        <span class="hljs-keyword">return</span> func
    <span class="hljs-keyword">return</span> decorate

finder = ClientImportFinder()
sys.meta_path.insert(<span class="hljs-number">0</span>, finder)
</code></pre>
<pre><code class="lang-python"><span class="hljs-meta">@when_imported(&apos;numpy&apos;)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">warn_numpy</span><span class="hljs-params">(mod)</span>:</span>
    print(<span class="hljs-string">&apos;numpy? Are you crazy?&apos;</span>)
</code></pre>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> numpy
</code></pre>
<pre><code>********None
[&apos;__abstractmethods__&apos;, &apos;__class__&apos;, &apos;__delattr__&apos;, &apos;__dict__&apos;, &apos;__dir__&apos;, &apos;__doc__&apos;, &apos;__eq__&apos;, &apos;__format__&apos;, &apos;__ge__&apos;, &apos;__getattribute__&apos;, &apos;__gt__&apos;, &apos;__hash__&apos;, &apos;__init__&apos;, &apos;__init_subclass__&apos;, &apos;__le__&apos;, &apos;__lt__&apos;, &apos;__module__&apos;, &apos;__ne__&apos;, &apos;__new__&apos;, &apos;__reduce__&apos;, &apos;__reduce_ex__&apos;, &apos;__repr__&apos;, &apos;__setattr__&apos;, &apos;__sizeof__&apos;, &apos;__str__&apos;, &apos;__subclasshook__&apos;, &apos;__weakref__&apos;, &apos;_abc_cache&apos;, &apos;_abc_negative_cache&apos;, &apos;_abc_negative_cache_version&apos;, &apos;_abc_registry&apos;, &apos;_finder&apos;, &apos;create_module&apos;, &apos;exec_module&apos;, &apos;load_module&apos;, &apos;module_repr&apos;]
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> a
</code></pre>
<pre><code>********None
</code></pre><pre><code class="lang-python">finder._skip
</code></pre>
<pre><code>set()
</code></pre><p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x9677;&#x5165;&#x65E0;&#x7EBF;&#x5FAA;&#x73AF;,ClientImportFinder&#x7EF4;&#x62A4;&#x4E86;&#x4E00;&#x4E2A;&#x6240;&#x6709;&#x88AB;&#x52A0;&#x8F7D;&#x8FC7;&#x7684;&#x6A21;&#x5757;&#x96C6;&#x5408;<code>_skip</code>,&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x5728;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E2D;&#x53C8;&#x6709;&#x53E6;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x6765;&#x52A0;&#x8F7D;,&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x8DF3;&#x8FC7;&#x8FD9;&#x4E2A;&#x52A0;&#x8F7D;&#x5668;</p>
<h2 id="import&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x5757;"><a name="import&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x5757;" class="anchor-navigation-ex-anchor" href="#import&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x5757;"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. import&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x5757;</h2>
<p>&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E3B;&#x8981;&#x662F;&#x590D;&#x5199;finder&#x4EE5;&#x53EF;&#x4EE5;&#x67E5;&#x627E;&#x5230;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x5757;&#x6587;&#x4EF6;.&#x540C;&#x65F6;&#x590D;&#x5199;loader&#x7684;create_module&#x65B9;&#x6CD5;&#x7528;&#x8FDC;&#x7AEF;&#x7684;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x670D;&#x52A1;.</p>
<p>&#x6211;&#x4EEC;&#x7684;&#x8FDC;&#x7A0B;&#x4EE3;&#x7801;&#x4EE5;http&#x670D;&#x52A1;&#x7684;&#x5F62;&#x5F0F;&#x653E;&#x5728;&#x9759;&#x6001;&#x670D;&#x52A1;&#x5668;&#x4E0A;</p>
<pre><code class="lang-shell">testcode-|
         |-spam.py
         |-fib.py
         |-grok-|
                |-__init__.py
                |-blah.py
</code></pre>
<p><code>spam.py</code></p>
<pre><code class="lang-python">print(<span class="hljs-string">&quot;I&apos;m spam&quot;</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hello</span><span class="hljs-params">(name)</span>:</span>
    print(<span class="hljs-string">&apos;Hello %s&apos;</span> % name)
</code></pre>
<p><code>fib.py</code></p>
<pre><code class="lang-python">print(<span class="hljs-string">&quot;I&apos;m fib&quot;</span>)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fib</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">2</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> fib(n<span class="hljs-number">-1</span>) + fib(n<span class="hljs-number">-2</span>)
</code></pre>
<p><code>grok/__init__.py</code></p>
<pre><code class="lang-python">print(<span class="hljs-string">&quot;I&apos;m grok.__init__&quot;</span>)
</code></pre>
<p><code>grok/blah.py</code></p>
<pre><code class="lang-python">print(<span class="hljs-string">&quot;I&apos;m grok.blah&quot;</span>)
</code></pre>
<p>&#x4F7F;&#x7528;python&#x81EA;&#x5E26;&#x7684;http&#x670D;&#x52A1;&#x542F;&#x52A8;:</p>
<pre><code class="lang-shell">cd source/testcode
python3 -m http.server 15000
</code></pre>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> requests
n = requests.get(<span class="hljs-string">&quot;http://localhost:15000/fib.py&quot;</span>)
print(n.content.decode(<span class="hljs-string">&quot;utf-8&quot;</span>))
</code></pre>
<pre><code>print(&quot;I&apos;m fib&quot;)

def fib(n):
    if n &lt; 2:
        return 1
    else:
        return fib(n-1) + fib(n-2)
</code></pre><h3 id="&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;"><a name="&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. &#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;</h3>
<p>&#x8FD9;&#x4E2A;&#x6D41;&#x7A0B;&#x4E5F;&#x63CF;&#x8FF0;&#x4E86;&#x6700;&#x901A;&#x7528;&#x7684;&#x6A21;&#x5757;&#x5BFC;&#x5165;&#x6D41;&#x7A0B;.&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>imp.new_module</code>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x6A21;&#x5757;&#x5BF9;&#x8C61;,&#x518D;&#x4F7F;&#x7528;&#x5185;&#x7F6E;&#x65B9;&#x6CD5;<code>compile()</code>&#x5C06;&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x5230;&#x4E00;&#x4E2A;&#x4EE3;&#x7801;&#x5BF9;&#x8C61;&#x4E2D;,&#x7136;&#x540E;&#x5728;&#x6A21;&#x5757;&#x5BF9;&#x8C61;&#x7684;&#x5B57;&#x5178;&#x4E2D;&#x6765;&#x6267;&#x884C;&#x5B83;.</p>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6CA1;&#x6709;&#x5D4C;&#x5165;&#x5230;&#x901A;&#x5E38;&#x7684;import&#x8BED;&#x53E5;&#x4E2D;,&#x5982;&#x679C;&#x8981;&#x652F;&#x6301;&#x66F4;&#x9AD8;&#x7EA7;&#x7684;&#x7ED3;&#x6784;&#x6BD4;&#x5982;&#x5305;&#x5C31;&#x9700;&#x8981;&#x66F4;&#x591A;&#x7684;&#x5DE5;&#x4F5C;&#x4E86;.</p>
<p>&#x4E0B;&#x9762;&#x662F;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x65B9;&#x5F0F;:</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> imp
<span class="hljs-keyword">import</span> urllib.request
<span class="hljs-keyword">import</span> sys

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_module</span><span class="hljs-params">(url)</span>:</span>
    u = urllib.request.urlopen(url)
    source = u.read().decode(<span class="hljs-string">&apos;utf-8&apos;</span>)
    mod = sys.modules.setdefault(url, imp.new_module(url))
    code = compile(source, url, <span class="hljs-string">&apos;exec&apos;</span>)
    mod.__file__ = url
    mod.__package__ = <span class="hljs-string">&apos;&apos;</span>
    exec(code, mod.__dict__)
    <span class="hljs-keyword">return</span> mod
</code></pre>
<pre><code class="lang-python">fib = load_module(<span class="hljs-string">&apos;http://localhost:15000/fib.py&apos;</span>)
</code></pre>
<pre><code>I&apos;m fib
</code></pre><pre><code class="lang-python">fib.fib(<span class="hljs-number">10</span>)
</code></pre>
<pre><code>89
</code></pre><pre><code class="lang-python">fib
</code></pre>
<pre><code>&lt;module &apos;http://localhost:15000/fib.py&apos; from &apos;http://localhost:15000/fib.py&apos;&gt;
</code></pre><h3 id="&#x4F7F;&#x7528;-import-hook&#x5B9E;&#x73B0;&#x9690;&#x5F0F;&#x8C03;&#x7528;&#x8FDC;&#x7AEF;&#x6A21;&#x5757;"><a name="&#x4F7F;&#x7528;-import-hook&#x5B9E;&#x73B0;&#x9690;&#x5F0F;&#x8C03;&#x7528;&#x8FDC;&#x7AEF;&#x6A21;&#x5757;" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;-import-hook&#x5B9E;&#x73B0;&#x9690;&#x5F0F;&#x8C03;&#x7528;&#x8FDC;&#x7AEF;&#x6A21;&#x5757;"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. &#x4F7F;&#x7528; import hook&#x5B9E;&#x73B0;&#x9690;&#x5F0F;&#x8C03;&#x7528;&#x8FDC;&#x7AEF;&#x6A21;&#x5757;</h3>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x5BFC;&#x5165;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x6A21;&#x5757;,&#x6211;&#x4EEC;&#x4F1A;&#x8FD9;&#x6837;&#x5199;&#x4EE5;&#x786E;&#x4FDD;&#x6587;&#x4EF6;&#x76EE;&#x5F55;Python&#x89E3;&#x91CA;&#x5668;&#x53EF;&#x4EE5;&#x627E;&#x5230;.</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> sys

sys.path.append(<span class="hljs-string">&apos;&lt;path&gt;&apos;</span>)
</code></pre>
<p>&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x8FDC;&#x7AEF;&#x7684;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FD9;&#x79CD;&#x4E0E;&#x6807;&#x51C6;&#x6D41;&#x7A0B;&#x7EDF;&#x4E00;&#x7684;&#x65B9;&#x5F0F;,&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528;import hook&#x4E86;.</p>
<p>&#x56E0;&#x4E3A;&#x8BBF;&#x95EE;&#x7684;&#x5730;&#x5740;&#x548C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0D;&#x540C;,&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>sys.path_hooks</code>&#x4E3A;&#x8FD9;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5730;&#x5740;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;finder</p>
<p>&#x6B64;&#x5904;&#x6211;&#x4EEC;&#x9700;&#x8981;</p>
<ul>
<li>&#x5B9A;&#x4E49;finder</li>
<li>&#x5B9A;&#x4E49;loader</li>
<li><p>&#x5B9A;&#x4E49;handle_url()&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x94A9;&#x5B50;</p>
<p>  <code>sys.path_hooks.append(handle_url)</code>&#x53D8;&#x91CF;&#x4E2D;&#x6CE8;&#x518C;&#x7740;&#x67E5;&#x627E;<code>sys.path</code>&#x7684;&#x94A9;&#x5B50;,&#x5F53;<code>sys.path</code>&#x7684;&#x5B9E;&#x4F53;&#x88AB;&#x5904;&#x7406;&#x65F6;&#x4F1A;&#x8C03;&#x7528;<code>sys.path_hooks</code>&#x4E2D;&#x7684;&#x51FD;&#x6570;.&#x5982;&#x679C;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x4E86;&#x4E00;&#x4E2A;finder,&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x5C31;&#x88AB;&#x7528;&#x6765;&#x4E3A;<code>sys.path</code>&#x5B9E;&#x4F53;&#x52A0;&#x8F7D;&#x6A21;&#x5757;.</p>
</li>
</ul>
<p>&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x5B8C;&#x5168;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x5E93;&#x5B9E;&#x73B0;</p>
<pre><code class="lang-python">%%writefile urlimport.py
<span class="hljs-keyword">import</span> warnings
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> importlib.abc
<span class="hljs-keyword">from</span> importlib.machinery <span class="hljs-keyword">import</span> ModuleSpec
<span class="hljs-keyword">import</span> imp
<span class="hljs-keyword">from</span> urllib.request <span class="hljs-keyword">import</span> urlopen
<span class="hljs-keyword">from</span> urllib.error <span class="hljs-keyword">import</span> HTTPError, URLError
<span class="hljs-keyword">from</span> html.parser <span class="hljs-keyword">import</span> HTMLParser

<span class="hljs-comment"># Get links from a given URL</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_get_links</span><span class="hljs-params">(url)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;&#x5728;&#x6307;&#x5B9A;url&#x67E5;&#x627E;&#x5305;&#x542B;&#x7684;&#x5176;&#x4ED6;url&quot;&quot;&quot;</span>
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LinkParser</span><span class="hljs-params">(HTMLParser)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x89E3;&#x6790;html&#x6587;&#x4EF6;,&#x4ECE;&#x4E2D;&#x83B7;&#x53D6;a&#x6807;&#x7B7E;&#x4E2D;&#x7684;url&quot;&quot;&quot;</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_starttag</span><span class="hljs-params">(self, tag, attrs)</span>:</span>
            <span class="hljs-keyword">if</span> tag == <span class="hljs-string">&apos;a&apos;</span>:
                attrs = dict(attrs)
                links.add(attrs.get(<span class="hljs-string">&apos;href&apos;</span>).rstrip(<span class="hljs-string">&apos;/&apos;</span>))
    links = set()
    <span class="hljs-keyword">try</span>:
        warnings.warn(f<span class="hljs-string">&apos;Getting links from {url}&apos;</span>,UserWarning)
        u = urlopen(url)
        parser = LinkParser()
        parser.feed(u.read().decode(<span class="hljs-string">&apos;utf-8&apos;</span>))
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        warnings.warn(f<span class="hljs-string">&apos;Could not get links. {e}&apos;</span>,UserWarning)
    warnings.warn(f<span class="hljs-string">&apos;links: {links}&apos;</span>,UserWarning)
    <span class="hljs-keyword">return</span> links

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UrlPathFinder</span><span class="hljs-params">(importlib.abc.PathEntryFinder)</span>:</span>
    <span class="hljs-string">&quot;&quot;&quot;&#x67E5;&#x627E;url&#x53CA;&#x5176;&#x4E2D;a&#x6807;&#x7B7E;&#x4E2D;&#x6307;&#x5411;&#x7684;url&#x4E2D;&#x7684;&#x6A21;&#x5757;.&quot;&quot;&quot;</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, baseurl)</span>:</span>
        self._links = <span class="hljs-keyword">None</span> <span class="hljs-comment"># &#x4FDD;&#x5B58;&#x4E00;&#x4E2A;baseurl&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x53EF;&#x7528;url&#x8DEF;&#x5F84;</span>
        <span class="hljs-comment">#self._loader = UrlModuleLoader(baseurl) # &#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x7684;loader</span>
        self._baseurl = baseurl <span class="hljs-comment"># </span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_spec</span><span class="hljs-params">(self, fullname, paths=None, target=None)</span>:</span>
        warnings.warn(f<span class="hljs-string">&apos;find_loader: {fullname}&apos;</span>, UserWarning)
        parts = fullname.split(<span class="hljs-string">&apos;.&apos;</span>)
        basename = parts[<span class="hljs-number">-1</span>]
        <span class="hljs-comment"># &#x67E5;&#x770B;links&#x548C;&#x521D;&#x59CB;&#x5316;links</span>
        <span class="hljs-keyword">if</span> self._links <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
            self._links = [] 
            self._links = _get_links(self._baseurl)
        spec = <span class="hljs-keyword">None</span>

        <span class="hljs-comment"># &#x68C0;&#x67E5;links&#x662F;&#x4E0D;&#x662F;package,&#x5224;&#x65AD;&#x7684;&#x6807;&#x51C6;&#x662F;&#x6709;&#x6CA1;&#x6709;.py</span>
        <span class="hljs-keyword">if</span> basename <span class="hljs-keyword">in</span> self._links:
            warnings.warn(f<span class="hljs-string">&apos;find_loader: trying package {fullname}&apos;</span>, UserWarning)
            fullurl = self._baseurl + <span class="hljs-string">&apos;/&apos;</span> + basename
            <span class="hljs-keyword">try</span>:
                loader = UrlPackageLoader(fullurl)
                loader.load_module(fullname)<span class="hljs-comment">#</span>
                warnings.warn(f<span class="hljs-string">&apos;find_loader: package {fullname} loaded&apos;</span>, UserWarning)
                spec = ModuleSpec(fullname, loader, origin=paths)
            <span class="hljs-keyword">except</span> ImportError <span class="hljs-keyword">as</span> ie:
                warnings.warn(f<span class="hljs-string">&apos;find_loader: {fullname} is a namespace package&apos;</span>, UserWarning)
                spec = <span class="hljs-keyword">None</span>
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                <span class="hljs-keyword">raise</span> e


        <span class="hljs-keyword">elif</span> (basename + <span class="hljs-string">&apos;.py&apos;</span>) <span class="hljs-keyword">in</span> self._links:
            <span class="hljs-comment"># &#x6B63;&#x5E38;module&#x7684;&#x5904;&#x7406;</span>
            warnings.warn(f<span class="hljs-string">&apos;find_loader: module {fullname} found&apos;</span>, UserWarning)
            loader = UrlModuleLoader(self._baseurl)
            spec = ModuleSpec(fullname, loader, origin=paths)
        <span class="hljs-keyword">else</span>:
            warnings.warn(f<span class="hljs-string">&apos;find_loader: module {fullname} not found&apos;</span>, UserWarning)

        <span class="hljs-keyword">return</span> spec

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">invalidate_caches</span><span class="hljs-params">(self)</span>:</span>
        warnings.warn(<span class="hljs-string">&quot;invalidating link cache&quot;</span>, UserWarning)
        self._links = <span class="hljs-keyword">None</span>


<span class="hljs-comment"># Module Loader for a URL</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UrlModuleLoader</span><span class="hljs-params">(importlib.abc.SourceLoader)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, baseurl)</span>:</span>
        self._baseurl = baseurl
        self._source_cache = {}

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_module</span><span class="hljs-params">(self,spec)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x8FD9;&#x8FB9;&#x53EA;&#x8981;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x5B9E;&#x73B0;&#x5373;&#x53EF;.&quot;&quot;&quot;</span>

        mod = sys.modules.setdefault(spec.name, imp.new_module(spec.name))
        mod.__file__ = self.get_filename(spec.name)
        mod.__loader__ = self
        mod.__package__ = spec.name.rpartition(<span class="hljs-string">&apos;.&apos;</span>)[<span class="hljs-number">0</span>]
        <span class="hljs-keyword">return</span> mod


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">exec_module</span> <span class="hljs-params">(self, module)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x5728;_post_import_hooks&#x4E2D;&#x67E5;&#x627E;&#x5BF9;&#x5E94;&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5E76;&#x6267;&#x884C;.&quot;&quot;&quot;</span>
        code = self.get_code(module.__name__)
        exec(code, module.__dict__)

    <span class="hljs-comment"># Optional extensions</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_code</span><span class="hljs-params">(self, fullname)</span>:</span>
        src = self.get_source(fullname)
        <span class="hljs-keyword">return</span> compile(src, self.get_filename(fullname), <span class="hljs-string">&apos;exec&apos;</span>)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_data</span><span class="hljs-params">(self, path)</span>:</span>
        <span class="hljs-keyword">pass</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_filename</span><span class="hljs-params">(self, fullname)</span>:</span>
        <span class="hljs-keyword">return</span> self._baseurl + <span class="hljs-string">&apos;/&apos;</span> + fullname.split(<span class="hljs-string">&apos;.&apos;</span>)[<span class="hljs-number">-1</span>] + <span class="hljs-string">&apos;.py&apos;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_source</span><span class="hljs-params">(self, fullname)</span>:</span>
        filename = self.get_filename(fullname)
        warnings.warn(f<span class="hljs-string">&apos;loader: reading {filename}&apos;</span>, UserWarning)
        <span class="hljs-keyword">if</span> filename <span class="hljs-keyword">in</span> self._source_cache:
            warnings.warn(f<span class="hljs-string">&apos;loader: cached {fullname} not found&apos;</span>, UserWarning)
            <span class="hljs-keyword">return</span> self._source_cache[filename]
        <span class="hljs-keyword">try</span>:
            u = urlopen(filename)
            source = u.read().decode(<span class="hljs-string">&apos;utf-8&apos;</span>)
            warnings.warn(f<span class="hljs-string">&apos;loader: {filename} loaded&apos;</span>, UserWarning)
            self._source_cache[filename] = source
            <span class="hljs-keyword">return</span> source
        <span class="hljs-keyword">except</span> (HTTPError, URLError) <span class="hljs-keyword">as</span> e:
            warnings.warn(f<span class="hljs-string">&apos;loader: {filename} failed. {e}&apos;</span>, UserWarning)
            <span class="hljs-keyword">raise</span> ImportError(<span class="hljs-string">&quot;Can&apos;t load %s&quot;</span> % filename)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_package</span><span class="hljs-params">(self, fullname)</span>:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">False</span>

<span class="hljs-comment"># Package loader for a URL</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UrlPackageLoader</span><span class="hljs-params">(UrlModuleLoader)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_module</span><span class="hljs-params">(self, spec)</span>:</span>
        mod = super().create_module(spec)
        mod.__path__ = [ self._baseurl ]
        mod.__package__ = spec.name
        <span class="hljs-keyword">return</span> mod

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_filename</span><span class="hljs-params">(self, fullname)</span>:</span>
        <span class="hljs-keyword">return</span> self._baseurl + <span class="hljs-string">&apos;/&apos;</span> + <span class="hljs-string">&apos;__init__.py&apos;</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_package</span><span class="hljs-params">(self, fullname)</span>:</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">True</span>




<span class="hljs-comment"># Check path to see if it looks like a URL</span>
_url_path_cache = {}
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_url</span><span class="hljs-params">(path)</span>:</span>
    <span class="hljs-keyword">if</span> path.startswith((<span class="hljs-string">&apos;http://&apos;</span>, <span class="hljs-string">&apos;https://&apos;</span>)):
        warnings.warn(f<span class="hljs-string">&apos;Handle path? {path}. [Yes]&apos;</span>, UserWarning)
        <span class="hljs-keyword">if</span> path <span class="hljs-keyword">in</span> _url_path_cache:
            finder = _url_path_cache[path]
        <span class="hljs-keyword">else</span>:
            finder = UrlPathFinder(path)
            _url_path_cache[path] = finder
        <span class="hljs-keyword">return</span> finder
    <span class="hljs-keyword">else</span>:
        warnings.warn(f<span class="hljs-string">&apos;Handle path? {path}. [No]&apos;</span>, UserWarning)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">install_path_hook</span><span class="hljs-params">()</span>:</span>
    sys.path_hooks.append(handle_url)
    sys.path_importer_cache.clear()
    warnings.warn(<span class="hljs-string">&apos;Installing handle_url&apos;</span>, UserWarning)

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_path_hook</span><span class="hljs-params">()</span>:</span>
    sys.path_hooks.remove(handle_url)
    sys.path_importer_cache.clear()
    warnings.warn(<span class="hljs-string">&apos;Removing handle_url&apos;</span>, UserWarning)

install_path_hook()
</code></pre>
<pre><code>Overwriting urlimport.py
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> fib
</code></pre>
<pre><code>---------------------------------------------------------------------------

ModuleNotFoundError                       Traceback (most recent call last)

&lt;ipython-input-2-7d018bf75fbf&gt; in &lt;module&gt;()
----&gt; 1 import fib


ModuleNotFoundError: No module named &apos;fib&apos;
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> urlimport
</code></pre>
<pre><code>/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/urlimport.py:162: UserWarning: Installing handle_url
  warnings.warn(&apos;Installing handle_url&apos;, UserWarning)
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> fib
</code></pre>
<pre><code>/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/urlimport.py:157: UserWarning: Handle path? /Users/huangsizhe/anaconda3/lib/python36.zip. [No]
  warnings.warn(f&apos;Handle path? {path}. [No]&apos;, UserWarning)



---------------------------------------------------------------------------

ModuleNotFoundError                       Traceback (most recent call last)

&lt;ipython-input-4-7d018bf75fbf&gt; in &lt;module&gt;()
----&gt; 1 import fib


ModuleNotFoundError: No module named &apos;fib&apos;
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> sys
sys.path.append(<span class="hljs-string">&apos;http://localhost:15000&apos;</span>)
</code></pre>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> fib
</code></pre>
<pre><code class="lang-python">fib.fib(<span class="hljs-number">5</span>)
</code></pre>
<pre><code>8
</code></pre><h2 id="&#x76F4;&#x63A5;import&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x5757;&#x6765;&#x4F7F;&#x7528;"><a name="&#x76F4;&#x63A5;import&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x5757;&#x6765;&#x4F7F;&#x7528;" class="anchor-navigation-ex-anchor" href="#&#x76F4;&#x63A5;import&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x5757;&#x6765;&#x4F7F;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. &#x76F4;&#x63A5;import&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x5757;&#x6765;&#x4F7F;&#x7528;</h2>
<p>&#x4E00;&#x4E2A;&#x66F4;&#x52A0;&#x9177;&#x7684;&#x7528;&#x6CD5;&#x662F;&#x76F4;&#x63A5;&#x5BFC;&#x5165;&#x522B;&#x7684;&#x8BED;&#x8A00;&#x7684;&#x4EE3;&#x7801;&#x6210;&#x4E3A;&#x6A21;&#x5757;.&#x8FD9;&#x6709;&#x4E24;&#x79CD;&#x9014;&#x5F84;</p>
<ul>
<li>&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x5C06;&#x6E90;&#x7801;&#x7F16;&#x8BD1;&#x4E3A;python&#x53EF;&#x4EE5;&#x76F4;&#x63A5;import&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;,&#x4E4B;&#x540E;&#x518D;&#x5BFC;&#x5165;&#x8FD9;&#x4E2A;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;</li>
<li>&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x8BED;&#x6CD5;&#x89E3;&#x91CA;&#x5668;&#x5C06;&#x7279;&#x5B9A;&#x6E90;&#x7801;&#x8F6C;&#x5316;&#x4E3A;python&#x5BF9;&#x8C61;</li>
</ul>
<h3 id="&#x5BFC;&#x5165;fortran&#x4EE3;&#x7801;&#x4F5C;&#x4E3A;&#x6A21;&#x5757;"><a name="&#x5BFC;&#x5165;fortran&#x4EE3;&#x7801;&#x4F5C;&#x4E3A;&#x6A21;&#x5757;" class="anchor-navigation-ex-anchor" href="#&#x5BFC;&#x5165;fortran&#x4EE3;&#x7801;&#x4F5C;&#x4E3A;&#x6A21;&#x5757;"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. &#x5BFC;&#x5165;Fortran&#x4EE3;&#x7801;&#x4F5C;&#x4E3A;&#x6A21;&#x5757;</h3>
<p>&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x6211;&#x4EEC;&#x6765;&#x5C1D;&#x8BD5;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;,&#x5176;&#x57FA;&#x672C;&#x6D41;&#x7A0B;&#x662F;:</p>
<ol>
<li><p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;finder&#x7528;&#x4E8E;&#x627E;&#x5230;&#x4EE5;<code>.f</code>,<code>.f90</code>&#x6216;&#x8005;<code>.f95</code>&#x4F4D;&#x540E;&#x7F00;&#x7684;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x6E90;&#x6587;&#x4EF6;</p>
<p> &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x8FD9;&#x4E2A;&#x9700;&#x6C42;&#x4F9D;&#x7136;&#x4F1A;&#x7528;&#x5230;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;,Fortran&#x7684;&#x6E90;&#x7801;&#x5F88;&#x5927;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x4E0E;python&#x7684;&#x539F;&#x751F;&#x6E90;&#x6587;&#x4EF6;&#x5171;&#x5B58;,&#x56E0;&#x6B64;&#x4E0D;&#x9002;&#x5408;&#x4F7F;&#x7528;<code>sys.path_hook</code>.</p>
</li>
<li><p>&#x4F7F;&#x7528;numpy&#x4E2D;&#x81EA;&#x5E26;&#x7684;&#x5DE5;&#x5177;<code>f2py</code>&#x6765;&#x5B9E;&#x73B0;Fortran&#x4EE3;&#x7801;&#x7684;&#x7F16;&#x8BD1;&#x5DE5;&#x4F5C;</p>
<p> <code>f2py</code>&#x65E0;&#x6CD5;&#x6307;&#x5B9A;&#x8F93;&#x51FA;&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x4F4D;&#x7F6E;,&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x64CD;&#x4F5C;.&#x8FD9;&#x8FB9;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x6807;&#x51C6;&#x5E93;<code>Pathlib</code>&#x548C;<code>shutil</code></p>
</li>
</ol>
<ol>
<li><p>&#x5C06;&#x7F16;&#x8BD1;&#x6210;&#x529F;&#x540E;&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x5BFC;&#x5165;&#x5230;&#x7A0B;&#x5E8F;&#x4E2D;.</p>
<p> &#x9700;&#x8981;&#x6CE8;&#x610F;&#x5F15;&#x5165;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;&#x65F6;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;<code>import</code>&#x6216;&#x8005;<code>__import__</code>&#x6216;&#x8005;<code>importlib.import_module</code>&#x8FD9;&#x4E9B;&#x76F4;&#x63A5;&#x751F;&#x6210;&#x5B8C;&#x6574;&#x6A21;&#x5757;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F;,&#x5426;&#x5219;&#x4F1A;&#x9012;&#x5F52;&#x8C03;&#x7528;.
 &#x6B64;&#x5904;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x7684;&#x65B9;&#x5F0F;&#x501F;&#x7531;&#x751F;&#x6210;spec&#x6765;&#x751F;&#x6210;&#x6A21;&#x5757;.</p>
<pre><code class="lang-python"> wrap_spec = importlib.util.spec_from_file_location(
         spec.name,
         str(target_path)
     )
 mod = importlib.util.module_from_spec(wrap_spec)
</code></pre>
<p> &#x518D;&#x501F;&#x7531;&#x8FD9;&#x4E2A;spec&#x7684;loader&#x6765;&#x6267;&#x884C;&#x6A21;&#x5757;</p>
<pre><code class="lang-python"> wrap_spec.loader.exec_module(mod)
</code></pre>
</li>
</ol>
<p>&#x5F53;&#x7136;&#x4E86;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x5E76;&#x6CA1;&#x6709;&#x8003;&#x8651;fortain&#x672C;&#x8EAB;&#x7684;&#x8BED;&#x6CD5;&#x548C;&#x591A;&#x6587;&#x4EF6;&#x7F16;&#x8BD1;&#x7684;&#x95EE;&#x9898;,&#x53EF;&#x80FD;&#x8FD8;&#x4F1A;&#x6709;&#x4E9B;&#x95EE;&#x9898;.</p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> sys
</code></pre>
<pre><code class="lang-python">sys.path_hooks
</code></pre>
<pre><code>[zipimport.zipimporter,
 &lt;function _frozen_importlib_external.FileFinder.path_hook.&lt;locals&gt;.path_hook_for_FileFinder&gt;]
</code></pre><pre><code class="lang-python">%%writefile fortranimport.py
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> hashlib
<span class="hljs-keyword">import</span> shutil
<span class="hljs-keyword">import</span> warnings
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">import</span> importlib
<span class="hljs-keyword">from</span> importlib.abc <span class="hljs-keyword">import</span> (
    MetaPathFinder,
    PathEntryFinder,
    Loader
)
<span class="hljs-keyword">from</span> importlib.machinery <span class="hljs-keyword">import</span> ModuleSpec

<span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> f2py


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FortranImportLoader</span><span class="hljs-params">(Loader)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, source_path)</span>:</span>
        self._source_path = source_path
        <span class="hljs-keyword">with</span> open(str(self._source_path), <span class="hljs-string">&quot;rb&quot;</span>) <span class="hljs-keyword">as</span> f:
            self.source = f.read()
        self.source_hash = hashlib.md5(self.source)
        self.wrap_spec = <span class="hljs-keyword">None</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_check_source</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-keyword">with</span> open(str(self._source_path), <span class="hljs-string">&quot;rb&quot;</span>) <span class="hljs-keyword">as</span> f:
            source = f.read()
        source_hash = hashlib.md5(source)
        <span class="hljs-keyword">if</span> self.source_hash == source_hash:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">False</span>
        <span class="hljs-keyword">else</span>:
            self.source_hash = source_hash
            self.source = source
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">True</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">_compile</span><span class="hljs-params">(self)</span>:</span>
        modulename = self._source_path.stem
        suffix = self._source_path.suffix
        complie_result = f2py.compile(
            self.source,
            modulename=modulename,
            verbose=<span class="hljs-keyword">False</span>,
            extra_args=<span class="hljs-string">&quot;--quiet&quot;</span>, 
            extension=suffix
        )
        <span class="hljs-keyword">if</span> complie_result != <span class="hljs-number">0</span>:
            <span class="hljs-keyword">raise</span> ImportError(<span class="hljs-string">&quot;complie failed&quot;</span>)
        <span class="hljs-keyword">else</span>:
            root = Path(<span class="hljs-string">&quot;.&quot;</span>).resolve()
            find_files = [
                i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> root.iterdir() <span class="hljs-keyword">if</span> i.match(f<span class="hljs-string">&quot;{modulename}*.pyd&quot;</span>) <span class="hljs-keyword">or</span> i.match(f<span class="hljs-string">&quot;{modulename}*.so&quot;</span>)
            ]
            <span class="hljs-keyword">if</span> len(find_files) != <span class="hljs-number">1</span>:
                <span class="hljs-keyword">raise</span> ImportError(f<span class="hljs-string">&quot;find {len(find_files)} Dynamic Link Library&quot;</span>)
            file = find_files[<span class="hljs-number">0</span>]
            target_path = self._source_path.with_name(file.name)
            <span class="hljs-keyword">if</span> file != target_path:
                <span class="hljs-keyword">try</span>:
                    shutil.move(str(file), str(target_path))
                <span class="hljs-keyword">except</span> shutil.SameFileError <span class="hljs-keyword">as</span> sfe:
                    <span class="hljs-keyword">pass</span>
                <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                    <span class="hljs-keyword">raise</span> e
            del_target = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> root.iterdir() <span class="hljs-keyword">if</span> i.match(str(file)+<span class="hljs-string">&quot;.*&quot;</span>)]
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> del_target:
                <span class="hljs-keyword">try</span>:
                    i.chmod(<span class="hljs-number">0o777</span>)
                    i.unlink()
                <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                    warnings.warn(f<span class="hljs-string">&apos;can not delete file {i}:{type(e)}--{e}&apos;</span>, UserWarning)
            <span class="hljs-keyword">return</span> target_path

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_module</span><span class="hljs-params">(self, spec)</span>:</span>
        self._check_source()
        target_path = self._compile()
        self.wrap_spec = importlib.util.spec_from_file_location(
            spec.name,
            str(target_path)
        )
        mod = importlib.util.module_from_spec(self.wrap_spec)
        mod = sys.modules.setdefault(spec.name, mod)
        <span class="hljs-keyword">return</span> mod

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">exec_module</span><span class="hljs-params">(self, module)</span>:</span>
        <span class="hljs-string">&quot;&quot;&quot;&#x5728;_post_import_hooks&#x4E2D;&#x67E5;&#x627E;&#x5BF9;&#x5E94;&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5E76;&#x6267;&#x884C;.&quot;&quot;&quot;</span>
        self.wrap_spec.loader.exec_module(module)



<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FortranImportFinder</span><span class="hljs-params">(MetaPathFinder)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_spec</span><span class="hljs-params">(self, fullname, paths=None, target=None)</span>:</span>
        relative_path = fullname.replace(<span class="hljs-string">&quot;.&quot;</span>, <span class="hljs-string">&quot;/&quot;</span>)
        base_path = <span class="hljs-keyword">None</span>
        full_path = <span class="hljs-keyword">None</span>

        <span class="hljs-keyword">for</span> path <span class="hljs-keyword">in</span> sys.path:
            base_path = Path(path).resolve()
            abs_path = base_path.joinpath(relative_path)
            <span class="hljs-keyword">if</span> abs_path.with_suffix(<span class="hljs-string">&quot;.f&quot;</span>).exists():
                full_path = abs_path.with_suffix(<span class="hljs-string">&quot;.f&quot;</span>)
                <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">elif</span> abs_path.with_suffix(<span class="hljs-string">&quot;.f90&quot;</span>).exists():
                full_path = abs_path.with_suffix(<span class="hljs-string">&quot;.f90&quot;</span>)
                <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">elif</span> abs_path.with_suffix(<span class="hljs-string">&quot;.f95&quot;</span>).exists():
                full_path = abs_path.with_suffix(<span class="hljs-string">&quot;.f95&quot;</span>)
                <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">None</span>
        warnings.warn(f<span class="hljs-string">&apos;FortranImportFinder find_spec: {fullname}&apos;</span>, UserWarning)
        loader = FortranImportLoader(full_path)
        spec = ModuleSpec(fullname, loader, origin=paths)
        <span class="hljs-keyword">return</span> spec


finder = FortranImportFinder()
sys.meta_path.insert(<span class="hljs-number">0</span>, finder)
warnings.warn(<span class="hljs-string">&apos;now you can import a fortain file&apos;</span>, UserWarning)
</code></pre>
<pre><code>Overwriting fortranimport.py
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> fortranimport
</code></pre>
<pre><code>/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/fortranimport.py:122: UserWarning: now you can import a fortain file
  warnings.warn(&apos;now you can import a fortain file&apos;, UserWarning)
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> demo
</code></pre>
<pre><code>/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/fortranimport.py:114: UserWarning: FortranImportFinder find_spec: demo
  warnings.warn(f&apos;FortranImportFinder find_spec: {fullname}&apos;, UserWarning)


In file included from /var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmpg1hdbzxv/src.macosx-10.7-x86_64-3.6/demomodule.c:16:
In file included from /var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmpg1hdbzxv/src.macosx-10.7-x86_64-3.6/fortranobject.h:13:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/arrayobject.h:4:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/ndarrayobject.h:18:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/ndarraytypes.h:1816:
/Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:15:2: warning: &quot;Using deprecated NumPy API, disable it by &quot;          &quot;#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION&quot; [-W#warnings]
#warning &quot;Using deprecated NumPy API, disable it by &quot; \
 ^
/var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmpg1hdbzxv/src.macosx-10.7-x86_64-3.6/demomodule.c:109:12: warning: unused function &apos;f2py_size&apos; [-Wunused-function]
static int f2py_size(PyArrayObject* var, ...)
           ^
2 warnings generated.
In file included from /var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmpg1hdbzxv/src.macosx-10.7-x86_64-3.6/fortranobject.c:2:
In file included from /var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmpg1hdbzxv/src.macosx-10.7-x86_64-3.6/fortranobject.h:13:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/arrayobject.h:4:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/ndarrayobject.h:18:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/ndarraytypes.h:1816:
/Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:15:2: warning: &quot;Using deprecated NumPy API, disable it by &quot;          &quot;#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION&quot; [-W#warnings]
#warning &quot;Using deprecated NumPy API, disable it by &quot; \
 ^
/var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmpg1hdbzxv/src.macosx-10.7-x86_64-3.6/fortranobject.c:138:18: warning: comparison of integers of different signs: &apos;Py_ssize_t&apos; (aka &apos;long&apos;) and &apos;unsigned long&apos; [-Wsign-compare]
        if (size &lt; sizeof(notalloc)) {
            ~~~~ ^ ~~~~~~~~~~~~~~~~
2 warnings generated.


/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/fortranimport.py:71: UserWarning: can not delete file /Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/demo.cpython-36m-darwin.so.dSYM:&lt;class &apos;PermissionError&apos;&gt;--[Errno 1] Operation not permitted: &apos;/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/demo.cpython-36m-darwin.so.dSYM&apos;
  warnings.warn(f&apos;can not delete file {i}:{type(e)}--{e}&apos;, UserWarning)
</code></pre><pre><code class="lang-python">demo.sum_of_square([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])
</code></pre>
<pre><code>55.0
</code></pre><pre><code class="lang-python"><span class="hljs-keyword">import</span> demopackage.demo1
</code></pre>
<pre><code>/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/fortranimport.py:114: UserWarning: FortranImportFinder find_spec: demopackage.demo1
  warnings.warn(f&apos;FortranImportFinder find_spec: {fullname}&apos;, UserWarning)


In file included from /var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmponoxb1eb/src.macosx-10.7-x86_64-3.6/demo1module.c:16:
In file included from /var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmponoxb1eb/src.macosx-10.7-x86_64-3.6/fortranobject.h:13:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/arrayobject.h:4:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/ndarrayobject.h:18:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/ndarraytypes.h:1816:
/Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:15:2: warning: &quot;Using deprecated NumPy API, disable it by &quot;          &quot;#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION&quot; [-W#warnings]
#warning &quot;Using deprecated NumPy API, disable it by &quot; \
 ^
/var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmponoxb1eb/src.macosx-10.7-x86_64-3.6/demo1module.c:109:12: warning: unused function &apos;f2py_size&apos; [-Wunused-function]
static int f2py_size(PyArrayObject* var, ...)
           ^
2 warnings generated.
In file included from /var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmponoxb1eb/src.macosx-10.7-x86_64-3.6/fortranobject.c:2:
In file included from /var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmponoxb1eb/src.macosx-10.7-x86_64-3.6/fortranobject.h:13:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/arrayobject.h:4:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/ndarrayobject.h:18:
In file included from /Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/ndarraytypes.h:1816:
/Users/huangsizhe/anaconda3/lib/python3.6/site-packages/numpy/core/include/numpy/npy_1_7_deprecated_api.h:15:2: warning: &quot;Using deprecated NumPy API, disable it by &quot;          &quot;#defining NPY_NO_DEPRECATED_API NPY_1_7_API_VERSION&quot; [-W#warnings]
#warning &quot;Using deprecated NumPy API, disable it by &quot; \
 ^
/var/folders/62/pwdyzlx51_j_3_0lr8zxzbx00000gn/T/tmponoxb1eb/src.macosx-10.7-x86_64-3.6/fortranobject.c:138:18: warning: comparison of integers of different signs: &apos;Py_ssize_t&apos; (aka &apos;long&apos;) and &apos;unsigned long&apos; [-Wsign-compare]
        if (size &lt; sizeof(notalloc)) {
            ~~~~ ^ ~~~~~~~~~~~~~~~~
2 warnings generated.


/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/fortranimport.py:71: UserWarning: can not delete file /Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/demo1.cpython-36m-darwin.so.dSYM:&lt;class &apos;PermissionError&apos;&gt;--[Errno 1] Operation not permitted: &apos;/Users/huangsizhe/WORKSPACE/github/hsz1273327/TutorialForPython/ipynbs/&#x8BED;&#x6CD5;&#x7BC7;/&#x5143;&#x7F16;&#x7A0B;/demo1.cpython-36m-darwin.so.dSYM&apos;
  warnings.warn(f&apos;can not delete file {i}:{type(e)}--{e}&apos;, UserWarning)
</code></pre><pre><code class="lang-python">demopackage.demo1.sum_of_square([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])
</code></pre>
<pre><code>55.0
</code></pre><h2 id="&#x4F7F;&#x7528;&#x8B66;&#x544A;"><a name="&#x4F7F;&#x7528;&#x8B66;&#x544A;" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;&#x8B66;&#x544A;"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. &#x4F7F;&#x7528;&#x8B66;&#x544A;</h2>
<p>import hook&#x662F;python&#x4E2D;&#x975E;&#x5E38;&#x9AD8;&#x7EA7;&#x7684;&#x8BED;&#x8A00;&#x6280;&#x5DE7;,&#x5E76;&#x4E0D;&#x63D0;&#x5021;&#x7528;&#x6237;&#x4F7F;&#x7528;,&#x5982;&#x679C;&#x975E;&#x8981;&#x4F7F;&#x7528;,&#x8BF7;&#x4F7F;&#x7528;<code>warnning</code>&#x5728;&#x5BFC;&#x5165;&#x65F6;&#x63D0;&#x9192;&#x7528;&#x6237;</p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; hsz 2017 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2019-01-12 02:01:49
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="元类编程.html" class="navigation navigation-prev " aria-label="Previous page: 元类编程">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="动态编译.html" class="navigation navigation-next " aria-label="Next page: 动态编译">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"import_hook","level":"1.3.9.5","depth":3,"next":{"title":"动态编译","level":"1.3.9.6","depth":3,"path":"语法篇/元编程/动态编译.md","ref":"语法篇/元编程/动态编译.md","articles":[]},"previous":{"title":"元类编程","level":"1.3.9.4","depth":3,"path":"语法篇/元编程/元类编程.md","ref":"语法篇/元编程/元类编程.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-pro","advanced-emoji","github","github-buttons","katex","splitter","expandable-chapters-small","tbfed-pagefooter","-sharing","donate","sitemap-general","anchors","anchor-navigation-ex"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy hsz 2017","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"github":{"url":"http://blog.hszofficial.site/TutorialForPython"},"splitter":{},"search-pro":{"cutWordLib":"nodejieba","defineWord":["Gitbook Use"]},"donate":{"title":"","button":"赏","wechat":"http://blog.hszofficial.site/img/wechat_donate.jpg","alipay":"http://blog.hszofficial.site/img/zhifubao_donate.jpg","wechatText":"微信打赏","alipayText":"支付宝打赏"},"sitemap-general":{"prefix":"http://blog.hszofficial.site/TutorialForPython/"},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":true},"mode":"float","multipleH1":true,"pageTop":{"showLevelIcon":false,"mode":"float","pageTop":{"showLevelIcon":false,"level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right"},"level1Icon":"","showLevel":true,"level2Icon":"","level3Icon":"","associatedWithSummary":true,"float":{"showLevelIcon":true,"level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right"}},"printLog":false,"showGoTop":true,"showLevel":true},"github-buttons":{"repo":"hsz1273327/TutorialForPython","types":["star","watch","fork"],"size":"small"},"expandable-chapters-small":{},"advanced-emoji":{"embedEmojis":false},"sharing":{"weibo":false,"facebook":false,"twitter":false,"google":true,"instapaper":false,"vk":false,"all":["google"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","author":"hsz","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"python攻略","language":"zh-hans","links":{"sidebar":{"Home":"http://blog.hszofficial.site/"}},"gitbook":">=2.0.0","description":"介绍python3.5+的语法与编程惯用法"},"file":{"path":"语法篇/元编程/import_hook.md","mtime":"2019-01-11T18:01:49.816Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-04-27T07:22:48.029Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

